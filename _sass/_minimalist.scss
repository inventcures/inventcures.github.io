// Minimalist Theme - SpiralDB Style
// Clean, minimal academic/research aesthetic

// =============================================================================
// VARIABLES
// =============================================================================

// Colors - SpiralDB exact colors
$color-bg: #EEF1FF; // Light lavender - main background
$color-bg-white: #ffffff;
$color-bg-footer: #f8f8f8;
$color-text: #101010; // Near black
$color-text-muted: #525252;
$color-text-light: #737373;
$color-link: #101010; // Black links with underline
$color-link-hover: #525252;
$color-border: #e5e5e5;
$color-border-dark: #101010;
$color-accent-yellow: #c5f74f; // Yellow/lime for active indicator
$color-accent-orange: #ff6b35; // Orange/coral for dividers
$color-accent-blue: #6b7cff; // Blue accent

// Typography - System fonts, clean
$font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
$font-mono: 'SF Mono', Monaco, 'Cascadia Code', Consolas, monospace;

// Spacing
$spacing-1: 0.25rem;
$spacing-2: 0.5rem;
$spacing-3: 0.75rem;
$spacing-4: 1rem;
$spacing-6: 1.5rem;
$spacing-8: 2rem;
$spacing-10: 2.5rem;
$spacing-12: 3rem;
$spacing-16: 4rem;

// Layout
$max-width: 1200px;
$content-width: 720px;

// =============================================================================
// BASE STYLES
// =============================================================================

.minimalist-site {
  font-family: $font-sans;
  font-size: 16px;
  line-height: 1.6;
  color: $color-text;
  background-color: $color-bg !important; // Lavender background #EEF1FF
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  * {
    box-sizing: border-box;
  }

  // Ensure html/body also get lavender
  &, html, body {
    background-color: $color-bg !important;
  }

  // =============================================================================
  // HEADER - Clean SpiralDB style (white background)
  // =============================================================================

  .site-header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: $color-bg-white; // White header
    border-bottom: 1px solid $color-border;

    .header-inner {
      max-width: $max-width;
      margin: 0 auto;
      padding: $spacing-4 $spacing-6;
      display: flex;
      justify-content: space-between;
      align-items: center;

      @media (max-width: 768px) {
        padding: $spacing-3 $spacing-4;
      }
    }

    .site-logo {
      font-size: 1.125rem;
      font-weight: 600;
      color: $color-text;
      text-decoration: none;
      letter-spacing: -0.02em;

      &:hover {
        text-decoration: none;
        color: $color-text;
      }
    }

    .site-nav {
      display: flex;
      align-items: center;
      gap: $spacing-8;

      @media (max-width: 768px) {
        display: none;
      }

      .nav-link {
        font-size: 0.9375rem;
        color: $color-text;
        text-decoration: none;
        font-weight: 400;
        position: relative;
        padding: 2px 4px;
        margin: -2px -4px;
        transition: background-color 0.1s ease;

        // Hover: Yellow highlight
        &:hover {
          background-color: $color-accent-yellow;
        }

        // Active/Click: Darker
        &:active {
          background-color: darken($color-accent-yellow, 15%);
        }

        // Yellow dot indicator for active nav (like SpiralDB)
        &.active {
          font-weight: 500;

          &::before {
            content: '';
            position: absolute;
            left: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 6px;
            background-color: $color-accent-yellow;
            border-radius: 50%;
          }
        }
      }
    }

    .nav-icons {
      display: flex;
      align-items: center;
      gap: $spacing-4;

      a {
        color: $color-text;
        opacity: 0.7;
        transition: opacity 0.15s;

        &:hover {
          opacity: 1;
        }

        svg {
          width: 20px;
          height: 20px;
        }
      }
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      padding: $spacing-2;
      cursor: pointer;
      color: $color-text;

      @media (max-width: 768px) {
        display: block;
      }

      svg {
        width: 24px;
        height: 24px;
      }
    }

    .mobile-nav {
      display: none;

      &.is-open {
        display: block;
        padding: $spacing-4;
        border-top: 1px solid $color-border;

        .nav-link {
          display: block;
          padding: $spacing-2 0;
          font-size: 1rem;
          color: $color-text;
          text-decoration: none;

          &:hover {
            text-decoration: underline;
          }
        }
      }
    }
  }

  // =============================================================================
  // MAIN CONTENT AREA
  // =============================================================================

  .main-content {
    min-height: calc(100vh - 200px);
    padding: $spacing-12 $spacing-6;
    background: $color-bg; // Lavender background

    @media (max-width: 768px) {
      padding: $spacing-8 $spacing-4;
    }

    // Orange divider line (like SpiralDB)
    &::after {
      content: '';
      display: block;
      max-width: $content-width;
      margin: $spacing-12 auto 0;
      height: 2px;
      background: linear-gradient(90deg, $color-accent-orange 0%, $color-accent-orange 100%);
    }
  }

  .container-narrow {
    max-width: $max-width;
    margin: 0 auto;
    padding: 0 $spacing-6;

    @media (max-width: 768px) {
      padding: 0 $spacing-4;
    }
  }

  // Full-width hero that aligns photo to left
  .hero-section {
    margin-left: -$spacing-6;
    margin-right: -$spacing-6;
    padding-right: $spacing-6;

    @media (max-width: 768px) {
      margin-left: 0;
      margin-right: 0;
      padding-right: 0;
    }
  }

  // =============================================================================
  // TYPOGRAPHY
  // =============================================================================

  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.3;
    color: $color-text;
    letter-spacing: -0.02em;
  }

  h1 {
    font-size: 2.5rem;
    margin-bottom: $spacing-6;

    @media (max-width: 768px) {
      font-size: 2rem;
    }
  }

  h2 {
    font-size: 1.5rem;
    margin-top: $spacing-12;
    margin-bottom: $spacing-4;
  }

  h3 {
    font-size: 1.25rem;
    margin-top: $spacing-8;
    margin-bottom: $spacing-3;
  }

  p {
    margin-bottom: $spacing-4;
    line-height: 1.7;
  }

  a {
    color: $color-link;
    text-decoration: underline;
    text-underline-offset: 3px;
    text-decoration-thickness: 1px;
    transition: background-color 0.1s ease, color 0.1s ease;

    // Hover: Yellow highlight like SpiralDB
    &:hover {
      background-color: $color-accent-yellow;
      color: $color-text;
      text-decoration-thickness: 1px;
    }

    // Active/Click: Darker feedback
    &:active {
      background-color: darken($color-accent-yellow, 15%);
      color: $color-text;
    }
  }

  strong {
    font-weight: 600;
  }

  ul, ol {
    margin-bottom: $spacing-4;
    padding-left: $spacing-6;

    li {
      margin-bottom: $spacing-2;
      line-height: 1.7;
    }
  }

  hr {
    border: none;
    border-top: 1px solid $color-border;
    margin: $spacing-8 0;
  }

  code {
    font-family: $font-mono;
    font-size: 0.875em;
    background: $color-bg-alt;
    padding: 0.125rem 0.375rem;
    border-radius: 4px;
  }

  blockquote {
    border-left: 3px solid $color-border-dark;
    padding-left: $spacing-4;
    margin: $spacing-6 0;
    color: $color-text-muted;
    font-style: italic;
  }

  // =============================================================================
  // HERO / ABOUT SECTION - Large photo on left, flush to margin
  // =============================================================================

  .hero-section {
    display: grid;
    grid-template-columns: 450px 1fr;
    gap: $spacing-12;
    align-items: start;
    margin-bottom: $spacing-8;

    @media (max-width: 900px) {
      grid-template-columns: 350px 1fr;
      gap: $spacing-8;
    }

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
      gap: $spacing-6;
    }
  }

  .hero-image {
    @media (max-width: 768px) {
      text-align: center;
    }

    img {
      width: 450px;
      height: 600px;
      object-fit: cover;
      border-radius: 0;
      border: 2px solid $color-border-dark;
      box-shadow: 6px 6px 0 0 rgba(0, 0, 0, 1);

      @media (max-width: 900px) {
        width: 350px;
        height: 467px;
      }

      @media (max-width: 768px) {
        width: 100%;
        max-width: 350px;
        height: auto;
        aspect-ratio: 3/4;
        margin: 0 auto;
        display: block;
      }
    }
  }

  .hero-content {
    padding-top: $spacing-4;

    h1 {
      margin-top: 0;
      margin-bottom: $spacing-4;
      font-size: 2.75rem;

      @media (max-width: 768px) {
        text-align: center;
        font-size: 2rem;
      }
    }

    p {
      color: $color-text;
      line-height: 1.7;
      font-size: 1.125rem;

      @media (max-width: 768px) {
        text-align: center;
      }
    }

    @media (max-width: 768px) {
      text-align: center;
    }
  }

  // =============================================================================
  // FEATURED PROJECTS
  // =============================================================================

  .featured-section {
    margin-top: $spacing-12;
    padding: $spacing-8 0 0 0;

    .section-title {
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: $color-text-muted;
      margin-bottom: $spacing-6;
      font-family: $font-mono;
    }
  }

  .project-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: $spacing-4;

    @media (max-width: 640px) {
      grid-template-columns: 1fr;
    }
  }

  .project-card {
    display: block;
    padding: $spacing-6;
    background: $color-bg-white;
    border: 2px solid $color-border-dark;
    border-radius: 0;
    text-decoration: none;
    transition: box-shadow 0.15s, transform 0.15s, background-color 0.15s;
    // SpiralDB-style shadow offset
    box-shadow: 4px 4px 0 0 rgba(0, 0, 0, 1);

    // Hover: Larger shadow + slight lift
    &:hover {
      box-shadow: 6px 6px 0 0 rgba(0, 0, 0, 1);
      transform: translate(-2px, -2px);
      text-decoration: none;
    }

    // Active/Click: Press down effect
    &:active {
      box-shadow: 2px 2px 0 0 rgba(0, 0, 0, 1);
      transform: translate(2px, 2px);
      background-color: $color-bg;
    }

    .project-icon {
      width: 40px;
      height: 40px;
      background: $color-bg;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: $spacing-4;

      svg {
        width: 20px;
        height: 20px;
        color: $color-text;
      }
    }

    .project-title {
      font-size: 1rem;
      font-weight: 600;
      color: $color-text;
      margin-bottom: $spacing-2;
    }

    .project-description {
      font-size: 0.875rem;
      color: $color-text-muted;
      line-height: 1.6;
      margin-bottom: $spacing-3;
    }

    .project-link {
      font-size: 0.875rem;
      font-weight: 500;
      color: $color-text;
      text-decoration: underline;
      display: inline-flex;
      align-items: center;
      gap: $spacing-1;

      svg {
        width: 14px;
        height: 14px;
      }
    }
  }

  // =============================================================================
  // FOOTER - Simple, clean (white background like header)
  // =============================================================================

  .site-footer {
    background: $color-bg-white !important;
    margin-top: 0;
    padding: $spacing-12 $spacing-6;
    border-top: 1px solid $color-border;

    .footer-inner {
      max-width: $max-width;
      margin: 0 auto;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: $spacing-8;

      @media (max-width: 768px) {
        grid-template-columns: 1fr 1fr;
        gap: $spacing-6;
      }

      @media (max-width: 480px) {
        grid-template-columns: 1fr;
      }
    }

    .footer-brand {
      .footer-logo {
        font-size: 1rem;
        font-weight: 600;
        color: $color-text;
        margin-bottom: $spacing-3;
      }

      .footer-tagline {
        font-size: 0.875rem;
        color: $color-text-muted;
        line-height: 1.6;
      }
    }

    .footer-column {
      h4 {
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: $color-text-muted;
        margin-bottom: $spacing-4;
      }

      ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      li {
        margin-bottom: $spacing-2;
      }

      a {
        font-size: 0.875rem;
        color: $color-text;
        text-decoration: none;
        padding: 2px 4px;
        margin: -2px -4px;
        transition: background-color 0.1s ease;

        // Hover: Yellow highlight
        &:hover {
          background-color: $color-accent-yellow;
        }

        // Active/Click: Darker
        &:active {
          background-color: darken($color-accent-yellow, 15%);
        }

        svg {
          display: inline;
          width: 12px;
          height: 12px;
          margin-left: 2px;
          opacity: 0.5;
        }
      }
    }

    .footer-bottom {
      margin-top: $spacing-8;
      padding-top: $spacing-6;
      border-top: 1px solid $color-border;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: $spacing-4;

      .copyright {
        font-size: 0.8125rem;
        color: $color-text-muted;
      }

      .social-links {
        display: flex;
        gap: $spacing-4;

        a {
          color: $color-text-muted;

          &:hover {
            color: $color-text;
          }

          svg {
            width: 18px;
            height: 18px;
          }
        }
      }
    }
  }

  // =============================================================================
  // OVERRIDE OLD THEME STYLES
  // =============================================================================

  // Hide old masthead
  .masthead {
    display: none !important;
  }

  // Reset page footer wrapper
  .page__footer {
    margin: 0;
    padding: 0;
    background: transparent;

    footer {
      padding: 0;
      margin: 0;
    }
  }

  // Override #main for single pages
  #main {
    max-width: $content-width;
    margin: 0 auto;
    padding: $spacing-12 $spacing-6;
    float: none;
    background: $color-bg; // Lavender background

    @media (max-width: 768px) {
      padding: $spacing-8 $spacing-4;
    }
  }

  // Hide sidebar
  .sidebar {
    display: none !important;
  }

  // Page styles
  .page {
    width: 100%;
    float: none;
    padding: 0;

    .page__inner-wrap {
      float: none;
      width: 100%;
    }
  }

  .page__title {
    font-size: 2rem;
    font-weight: 600;
    margin-bottom: $spacing-6;
    letter-spacing: -0.02em;

    @media (max-width: 768px) {
      font-size: 1.75rem;
    }
  }

  .page__content {
    h2 {
      font-size: 1.375rem;
      margin-top: $spacing-10;
      margin-bottom: $spacing-4;
      padding-bottom: $spacing-2;
      border-bottom: 1px solid $color-border;
    }

    h3 {
      font-size: 1.125rem;
      margin-top: $spacing-8;
      margin-bottom: $spacing-3;
    }

    p {
      margin-bottom: $spacing-4;
      line-height: 1.7;
    }

    a {
      color: $color-text;
      text-decoration: underline;
      text-underline-offset: 3px;
      transition: background-color 0.1s ease;

      // Hover: Yellow highlight
      &:hover {
        background-color: $color-accent-yellow;
        color: $color-text;
      }

      // Active/Click: Darker
      &:active {
        background-color: darken($color-accent-yellow, 15%);
      }
    }
  }

  .page__meta {
    font-size: 0.8125rem;
    color: $color-text-muted;
    margin-top: $spacing-8;
    padding-top: $spacing-4;
    border-top: 1px solid $color-border;
  }

  .page__date {
    font-size: 0.8125rem;
    color: $color-text-muted;
  }

  // Archive items
  .archive__item {
    margin-bottom: $spacing-6;
    padding-bottom: $spacing-6;
    border-bottom: 1px solid $color-border;

    &:last-child {
      border-bottom: none;
    }

    .archive__item-title {
      font-size: 1.125rem;
      margin-bottom: $spacing-1;

      a {
        color: $color-text;
        text-decoration: none;
        transition: background-color 0.1s ease;

        // Hover: Yellow highlight
        &:hover {
          background-color: $color-accent-yellow;
        }

        // Active/Click: Darker
        &:active {
          background-color: darken($color-accent-yellow, 15%);
        }
      }
    }

    .archive__item-excerpt {
      font-size: 0.9375rem;
      color: $color-text-muted;
      line-height: 1.6;
    }
  }

  // Tags
  .page__taxonomy-item {
    display: inline-block;
    font-size: 0.75rem;
    padding: $spacing-1 $spacing-2;
    margin-right: $spacing-1;
    margin-bottom: $spacing-1;
    background: $color-bg-alt;
    border-radius: 4px;
    color: $color-text-muted;
    text-decoration: none;

    &:hover {
      background: darken($color-bg-alt, 5%);
      text-decoration: none;
    }
  }

  // Resources page
  .resources-section {
    margin-bottom: $spacing-12;

    h2 {
      font-size: 1.375rem;
      margin-bottom: $spacing-4;
      padding-bottom: $spacing-2;
      border-bottom: 1px solid $color-border;
    }
  }
}

// =============================================================================
// GLOBAL OVERRIDES - Force lavender background everywhere
// =============================================================================

html {
  background-color: #EEF1FF !important;
}

body {
  background-color: #EEF1FF !important;
}

body.minimalist-site {
  background-color: #EEF1FF !important;
}

// Keep header and footer white
.site-header {
  background-color: #ffffff !important;
}

.site-footer {
  background-color: #ffffff !important;
}

.page__footer {
  background-color: #ffffff !important;
}
